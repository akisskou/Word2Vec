# Word2Vec
Οδηγίες για την χρήση της εφαρμογής:
1. Αποθηκεύουμε τα xml από το clinical-trial.gov σε έναν φάκελο και καταγράφουμε το πλήρες path του φακέλου ως τιμή της παραμέτρου "pathToXML" στο αρχείο infos.properties (πχ pathToXML=C:/XML-Clinical-Trials/)
2. Τρέχουμε πρώτα το W2V.java, το οποίο ανακτά τα περιεχόμενα των πεδίων "brief_summary", "detailed_description" και "criteria" από κάθε xml και τα αποθηκεύει σε ένα νέο αρχείο raw_text.txt στον φάκελο του project μας.
3. Στη συνέχεια, τρέχουμε το W2VWriteVectors.java, το οποίο διαβάζει το raw_text.txt, δημιουργεί ένα νέο Word2Vec μοντέλο και το κάνει train και τέλος αποθηκεύει τα vectors στον φάκελο word_vectors.zip.
4. Επιλέγουμε τη βάση από την οποία θέλουμε να πάρουμε πληροφορίες για τους ασθενείς και καταγράφουμε το id της ως τιμή της παραμέτρου dbid στο αρχείο infos.properties (πχ dbid=35, dbid=08 κλπ). Έπειτα τρέχουμε το ExtractFromDB.java. Από την επιλεγμένη βάση εξάγονται για κάθε ασθενή οι πληροφορίες για τα κριτήρια που ικανοποιεί από τις κατηγορίες "symptom", "diagnosis", "medication", "lab_tests", και αποθηκεύονται σε ξεχωριστό αρχείο για τον καθένα, με όνομα της μορφής patientID.txt. Όλα τα αρχεία για τους ασθενείς της συγκεκριμένης βάσης αποθηκεύονται σε νέο φάκελo με όνομα ίδιο με της βάσης.
5. Τρέχουμε το W2VLoadVectors.java. Με βάση το dbid στο αρχείο properties επιλέγεται ο φάκελος της αντίστοιχης βάσης και διαβάζονται τα αρχεία txt για κάθε ασθενή. Παράλληλα φορτώνονται τα vectors από το word_vectors.zip, με βάση τα οποία δημιουργείται για κάθε ασθενή ένα νέο αρχείο closest_words_patientID.txt. Στο αρχείο αυτό περιέχονται οι κοντινότερες εννοιολογικά λέξεις για κάθε έννοια που διαβάζεται από το αντίστοιχο patientID.txt. Όλα τα αρχεία με τα closest words αποθηκεύονται στον φάκελο Closest words μέσα στον φάκελο της βάσης. Ορίζουμε πόσες κοντινές έννοιες θέλουμε να βρούμε μέσω της παραμέτρου count στα properties.  
6. Ορίζουμε ένα κριτήριο ως τιμή της παραμέτρου "criteria" στο αρχείο properties (πχ criteria=rheumatoid arthritis). Για να διαπιστώσουμε ποιοι ασθενείς το πληρούν από μια συγκεκριμένη βάση (για την οποία πρέπει ήδη να έχουμε βρει τα closest words για κάθε ασθενή), τρέχουμε το W2VLoadCriterionVectors.java. Φορτώνονται ξανά τα vectors από το word_vectors.zip και εντοπίζονται οι κοντινότερες έννοιες για το κριτήριο που ορίσαμε. Συγκρίνοντας τις έννοιες αυτές με τα περιεχόμενα κάθε αρχείου closest_words_patientID.txt, εξετάζουμε αν ένας ασθενής πληροί ή όχι το δεδομένο κριτήριο. Τα ids των ασθενών που ικανοποιούν το συγκεκριμένο κριτήριο αποθηκεύονται στο αρχείο criteria.txt σε νέο φάκελο Criteria.
7. Για λόγους testing, μπορούμε να βρούμε τις κοντινότερες λέξεις για τις έννοιες που περιέχονται στο reference model, αν τρέξουμε το W2VLoadOntologyVectors.java. Προηγουμένως θα πρέπει να έχουμε ορίσει το πλήρες path του αρχείου οντολογίας στην παράμετρο owlFile στα properties (πχ owlFile=C:/HarmonicSS-Reference-Model+Vocabularies-v.0.9.owl), καθώς και τις ευρύτερες κατηγορίες εννοιών της οντολογίας, για τις υποέννοιες των οποίων θέλουμε να βρούμε τα closest words, μέσω της παραμέτρου targetWords στα properties (πχ targetWords=Medical-Condition,Laboratory-Test,Drug-Substance). Τα closest words για την οντολογία αποθηκεύονται στο αρχείο reference model closest words W2V.txt
8. Για τη λειτουργία της εφαρμογής είναι απαραίτητη η ενσωμάτωση των jar dependencies που περιλαμβάνονται στο pom.xml, καθώς και των υπόλοιπων βιβλιοθηκών που βρίσκονται στο φακελο pom.xml - jar (τα mysql-connector και tomcat-util είναι απαραίτητα για την επικοινωνία με τη βάση).
9. Για την ανάγνωση της οντολογίας χρησιμοποιήθηκε το owl api, για το οποίο όλες οι απαραίτητες βιβλιοθήκες βρίσκονται στο φάκελο owl libraries.
